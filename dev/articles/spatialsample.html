<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using spatial resamples for analysis • spatialsample</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../tidyverse-2.css" rel="stylesheet">
<!--optional theme--><link href="../tidymodels.css" rel="stylesheet">
<meta property="og:title" content="Using spatial resamples for analysis">
<meta property="og:description" content="spatialsample">
<meta property="og:image" content="https://spatialsample.tidymodels.org/logo.png">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">spatialsample</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of <a href="https://tidymodels.org">tidymodels</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.0.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/spatialsample.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/tidymodels/spatialsample/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="spatialsample_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using spatial resamples for analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/spatialsample/blob/master/vignettes/spatialsample.Rmd"><code>vignettes/spatialsample.Rmd</code></a></small>
      <div class="hidden name"><code>spatialsample.Rmd</code></div>

    </div>

    
    
<p>The resampled objects created by spatialsample can be used in many of the same ways that those created by <a href="https://rsample.tidymodels.org/">rsample</a> can, from making comparisons to evaluating models. These objects can be used together with other parts of the <a href="https://www.tidymodels.org/">tidymodels</a> framework, but let’s walk through a more basic example using linear modeling of housing data from Ames, IA.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"ames"</span>, package <span class="op">=</span> <span class="st">"modeldata"</span><span class="op">)</span></code></pre></div>
<p>Let’s say that the sale price of these houses depends on the year they were built, their living area (size), and the type of house they are (duplex vs. townhouse vs. single family), along with perhaps interactions between type and house size.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log10</a></span><span class="op">(</span><span class="va">Sale_Price</span><span class="op">)</span> <span class="op">~</span> <span class="va">Year_Built</span> <span class="op">+</span> <span class="va">Gr_Liv_Area</span> <span class="op">+</span>  <span class="va">Bldg_Type</span></code></pre></div>
<p>This relationship may exhibit spatial autocorrelation across the city of Ames, and we can use a spatial resampling strategy to evaluate such a model. We can create <code>v = 15</code> spatial cross-validation folds with <code><a href="../reference/spatial_clustering_cv.html">spatial_clustering_cv()</a></code>, which uses k-means clustering to identify the sets:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/spatialsample">spatialsample</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span>
<span class="va">folds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spatial_clustering_cv.html">spatial_clustering_cv</a></span><span class="op">(</span><span class="va">ames</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Latitude"</span>, <span class="st">"Longitude"</span><span class="op">)</span>, v <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>
<span class="va">folds</span>
<span class="co">#&gt; #  15-fold spatial cross-validation </span>
<span class="co">#&gt; # A tibble: 15 x 2</span>
<span class="co">#&gt;    splits             id    </span>
<span class="co">#&gt;    &lt;list&gt;             &lt;chr&gt; </span>
<span class="co">#&gt;  1 &lt;split [2738/192]&gt; Fold01</span>
<span class="co">#&gt;  2 &lt;split [2654/276]&gt; Fold02</span>
<span class="co">#&gt;  3 &lt;split [2717/213]&gt; Fold03</span>
<span class="co">#&gt;  4 &lt;split [2762/168]&gt; Fold04</span>
<span class="co">#&gt;  5 &lt;split [2829/101]&gt; Fold05</span>
<span class="co">#&gt;  6 &lt;split [2779/151]&gt; Fold06</span>
<span class="co">#&gt;  7 &lt;split [2718/212]&gt; Fold07</span>
<span class="co">#&gt;  8 &lt;split [2756/174]&gt; Fold08</span>
<span class="co">#&gt;  9 &lt;split [2706/224]&gt; Fold09</span>
<span class="co">#&gt; 10 &lt;split [2794/136]&gt; Fold10</span>
<span class="co">#&gt; 11 &lt;split [2694/236]&gt; Fold11</span>
<span class="co">#&gt; 12 &lt;split [2779/151]&gt; Fold12</span>
<span class="co">#&gt; 13 &lt;split [2728/202]&gt; Fold13</span>
<span class="co">#&gt; 14 &lt;split [2616/314]&gt; Fold14</span>
<span class="co">#&gt; 15 &lt;split [2750/180]&gt; Fold15</span></code></pre></div>
<p>The <code>folds</code> object is an <code>rset</code> object that contains many resamples or <code>rsplit</code> objects in the <code>splits</code> column. The resulting partitions do not necessarily contain an equal number of observations.</p>
<p>Now let’s write a function that will, for each resample:</p>
<ul>
<li>obtain the <em>analysis</em> set for model fitting</li>
<li>fit a linear model with a interaction term</li>
<li>predict the <em>assessment</em> set and return both the true and predicted price, on the log scale</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># `splits` will be the `rsplit` object</span>
<span class="va">compute_preds</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">splits</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># fit the model to the analysis set</span>
  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log10</a></span><span class="op">(</span><span class="va">Sale_Price</span><span class="op">)</span> <span class="op">~</span> <span class="va">Year_Built</span> <span class="op">+</span> <span class="va">Bldg_Type</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log10</a></span><span class="op">(</span><span class="va">Gr_Liv_Area</span><span class="op">)</span>, 
            data <span class="op">=</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/as.data.frame.rsplit.html">analysis</a></span><span class="op">(</span><span class="va">splits</span><span class="op">)</span><span class="op">)</span>
  <span class="co"># identify the assessment set</span>
  <span class="va">holdout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/as.data.frame.rsplit.html">assessment</a></span><span class="op">(</span><span class="va">splits</span><span class="op">)</span>
  <span class="co"># return the assessment set, with true and predicted price</span>
  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>Longitude <span class="op">=</span> <span class="va">holdout</span><span class="op">$</span><span class="va">Longitude</span>, 
                 Latitude <span class="op">=</span> <span class="va">holdout</span><span class="op">$</span><span class="va">Latitude</span>,
                 Sale_Price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log10</a></span><span class="op">(</span><span class="va">holdout</span><span class="op">$</span><span class="va">Sale_Price</span><span class="op">)</span>, 
                 .pred <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">holdout</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>We can apply this function to just one of the <code>splits</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">compute_preds</span><span class="op">(</span><span class="va">folds</span><span class="op">$</span><span class="va">splits</span><span class="op">[[</span><span class="fl">7</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> 
<span class="co">#&gt; # A tibble: 212 x 4</span>
<span class="co">#&gt;    Longitude Latitude Sale_Price .pred</span>
<span class="co">#&gt;        &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1     -93.7     42.0       5.37  5.45</span>
<span class="co">#&gt;  2     -93.7     42.0       5.26  5.37</span>
<span class="co">#&gt;  3     -93.7     42.0       5.31  5.42</span>
<span class="co">#&gt;  4     -93.7     42.0       5.16  5.07</span>
<span class="co">#&gt;  5     -93.7     42.0       5.28  5.37</span>
<span class="co">#&gt;  6     -93.7     42.0       5.00  5.06</span>
<span class="co">#&gt;  7     -93.7     42.0       5.10  4.99</span>
<span class="co">#&gt;  8     -93.7     42.0       5.29  5.36</span>
<span class="co">#&gt;  9     -93.7     42.0       5.18  5.18</span>
<span class="co">#&gt; 10     -93.7     42.0       5.23  5.29</span>
<span class="co">#&gt; # … with 202 more rows</span></code></pre></div>
<p>Or we can apply this function to all of the <code>splits</code>, using <code><a href="https://purrr.tidyverse.org/reference/map.html">purrr::map()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://purrr.tidyverse.org">purrr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>

<span class="va">cv_res</span> <span class="op">&lt;-</span> <span class="va">folds</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>.preds <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">splits</span>, <span class="va">compute_preds</span><span class="op">)</span><span class="op">)</span>

<span class="va">cv_res</span>
<span class="co">#&gt; #  15-fold spatial cross-validation </span>
<span class="co">#&gt; # A tibble: 15 x 3</span>
<span class="co">#&gt;    splits             id     .preds            </span>
<span class="co">#&gt;    &lt;list&gt;             &lt;chr&gt;  &lt;list&gt;            </span>
<span class="co">#&gt;  1 &lt;split [2738/192]&gt; Fold01 &lt;tibble [192 × 4]&gt;</span>
<span class="co">#&gt;  2 &lt;split [2654/276]&gt; Fold02 &lt;tibble [276 × 4]&gt;</span>
<span class="co">#&gt;  3 &lt;split [2717/213]&gt; Fold03 &lt;tibble [213 × 4]&gt;</span>
<span class="co">#&gt;  4 &lt;split [2762/168]&gt; Fold04 &lt;tibble [168 × 4]&gt;</span>
<span class="co">#&gt;  5 &lt;split [2829/101]&gt; Fold05 &lt;tibble [101 × 4]&gt;</span>
<span class="co">#&gt;  6 &lt;split [2779/151]&gt; Fold06 &lt;tibble [151 × 4]&gt;</span>
<span class="co">#&gt;  7 &lt;split [2718/212]&gt; Fold07 &lt;tibble [212 × 4]&gt;</span>
<span class="co">#&gt;  8 &lt;split [2756/174]&gt; Fold08 &lt;tibble [174 × 4]&gt;</span>
<span class="co">#&gt;  9 &lt;split [2706/224]&gt; Fold09 &lt;tibble [224 × 4]&gt;</span>
<span class="co">#&gt; 10 &lt;split [2794/136]&gt; Fold10 &lt;tibble [136 × 4]&gt;</span>
<span class="co">#&gt; 11 &lt;split [2694/236]&gt; Fold11 &lt;tibble [236 × 4]&gt;</span>
<span class="co">#&gt; 12 &lt;split [2779/151]&gt; Fold12 &lt;tibble [151 × 4]&gt;</span>
<span class="co">#&gt; 13 &lt;split [2728/202]&gt; Fold13 &lt;tibble [202 × 4]&gt;</span>
<span class="co">#&gt; 14 &lt;split [2616/314]&gt; Fold14 &lt;tibble [314 × 4]&gt;</span>
<span class="co">#&gt; 15 &lt;split [2750/180]&gt; Fold15 &lt;tibble [180 × 4]&gt;</span></code></pre></div>
<p>We can <code><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest()</a></code> these results and <a href="https://yardstick.tidymodels.org/reference/index.html#section-regression-metrics">use yardstick to compute any regression metrics appropriate to this modeling analysis</a>, such as <code><a href="https://yardstick.tidymodels.org/reference/rmse.html">yardstick::rmse()</a></code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/yardstick">yardstick</a></span><span class="op">)</span>
<span class="co">#&gt; For binary classification, the first factor level is assumed to be the event.</span>
<span class="co">#&gt; Use the argument `event_level = "second"` to alter this as needed.</span>

<span class="va">cv_rmse</span> <span class="op">&lt;-</span> <span class="va">cv_res</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span><span class="op">(</span><span class="va">.preds</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://yardstick.tidymodels.org/reference/rmse.html">rmse</a></span><span class="op">(</span><span class="va">Sale_Price</span>, <span class="va">.pred</span><span class="op">)</span>

<span class="va">cv_rmse</span>
<span class="co">#&gt; # A tibble: 15 x 4</span>
<span class="co">#&gt;    id     .metric .estimator .estimate</span>
<span class="co">#&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Fold01 rmse    standard      0.122 </span>
<span class="co">#&gt;  2 Fold02 rmse    standard      0.0983</span>
<span class="co">#&gt;  3 Fold03 rmse    standard      0.104 </span>
<span class="co">#&gt;  4 Fold04 rmse    standard      0.0660</span>
<span class="co">#&gt;  5 Fold05 rmse    standard      0.142 </span>
<span class="co">#&gt;  6 Fold06 rmse    standard      0.0849</span>
<span class="co">#&gt;  7 Fold07 rmse    standard      0.0686</span>
<span class="co">#&gt;  8 Fold08 rmse    standard      0.0674</span>
<span class="co">#&gt;  9 Fold09 rmse    standard      0.113 </span>
<span class="co">#&gt; 10 Fold10 rmse    standard      0.0669</span>
<span class="co">#&gt; 11 Fold11 rmse    standard      0.0859</span>
<span class="co">#&gt; 12 Fold12 rmse    standard      0.106 </span>
<span class="co">#&gt; 13 Fold13 rmse    standard      0.0814</span>
<span class="co">#&gt; 14 Fold14 rmse    standard      0.0837</span>
<span class="co">#&gt; 15 Fold15 rmse    standard      0.0868</span></code></pre></div>
<p>It looks like the RMSE may vary across the city, so we can join the metrics back up to our results and plot them.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>

<span class="va">cv_res</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span><span class="op">(</span><span class="va">.preds</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">cv_rmse</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">Longitude</span>, <span class="va">Latitude</span>, color <span class="op">=</span> <span class="va">.estimate</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"RMSE"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_c</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Joining, by = "id"</span></code></pre></div>
<p><img src="spatialsample_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
<p>The area of highest RMSE is close to a more industrial area of Ames, by a large Department of Transportation complex.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="tidyverse">
  <p>spatialsample is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by Julia Silge.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
</div>

  


  </body>
</html>
